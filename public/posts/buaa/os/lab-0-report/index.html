<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[BUAA-OS] Lab 0 实验报告 | oNya's Blog</title>
<meta name=keywords content><meta name=description content='一、思考题
Thinking 0.1

思考下列有关 Git 的问题：

在前述已初始化的~/learnGit 目录下，创建一个名为 README.txt 的文件。执 行命令git status > Untracked.txt（其中的 > 为输出重定向，我们将在 0.6.3 中 详细介绍）。
在README.txt 文件中添加任意文件内容，然后使用 add 命令，再执行命令 git status > Stage.txt。
提交README.txt，并在提交说明里写入自己的学号。
执行命令cat Untracked.txt 和 cat Stage.txt，对比两次运行的结果，体会 README.txt 两次所处位置的不同。
修改README.txt 文件，再执行命令git status > Modified.txt。
执行命令cat Modified.txt，观察其结果和第一次执行 add 命令之前的 status 是 否一样，并思考原因。


1. Untracked.txt
$  cat Untracked.txt
位于分支 master
未跟踪的文件:
  （使用 "git add <文件>..." 以包含要提交的内容）
        README.txt
        Untracked.txt

提交为空，但是存在尚未跟踪的文件（使用 "git add" 建立跟踪）
新建了README.txt文件，处于Untracked状态。'><meta name=author content="oNya"><link rel=canonical href=%7b%7b%20.Permalink%20%7d%7d><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://oNya685.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://oNya685.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://oNya685.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://oNya685.github.io/apple-touch-icon.png><link rel=mask-icon href=https://oNya685.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://oNya685.github.io/posts/buaa/os/lab-0-report/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://oNya685.github.io/posts/buaa/os/lab-0-report/"><meta property="og:site_name" content="oNya's Blog"><meta property="og:title" content="[BUAA-OS] Lab 0 实验报告"><meta property="og:description" content='一、思考题 Thinking 0.1 思考下列有关 Git 的问题：
在前述已初始化的~/learnGit 目录下，创建一个名为 README.txt 的文件。执 行命令git status > Untracked.txt（其中的 > 为输出重定向，我们将在 0.6.3 中 详细介绍）。 在README.txt 文件中添加任意文件内容，然后使用 add 命令，再执行命令 git status > Stage.txt。 提交README.txt，并在提交说明里写入自己的学号。 执行命令cat Untracked.txt 和 cat Stage.txt，对比两次运行的结果，体会 README.txt 两次所处位置的不同。 修改README.txt 文件，再执行命令git status > Modified.txt。 执行命令cat Modified.txt，观察其结果和第一次执行 add 命令之前的 status 是 否一样，并思考原因。 1. Untracked.txt $ cat Untracked.txt 位于分支 master 未跟踪的文件: （使用 "git add <文件>..." 以包含要提交的内容） README.txt Untracked.txt 提交为空，但是存在尚未跟踪的文件（使用 "git add" 建立跟踪） 新建了README.txt文件，处于Untracked状态。'><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-16T11:27:33+08:00"><meta property="article:modified_time" content="2025-03-16T11:27:33+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="[BUAA-OS] Lab 0 实验报告"><meta name=twitter:description content='一、思考题
Thinking 0.1

思考下列有关 Git 的问题：

在前述已初始化的~/learnGit 目录下，创建一个名为 README.txt 的文件。执 行命令git status > Untracked.txt（其中的 > 为输出重定向，我们将在 0.6.3 中 详细介绍）。
在README.txt 文件中添加任意文件内容，然后使用 add 命令，再执行命令 git status > Stage.txt。
提交README.txt，并在提交说明里写入自己的学号。
执行命令cat Untracked.txt 和 cat Stage.txt，对比两次运行的结果，体会 README.txt 两次所处位置的不同。
修改README.txt 文件，再执行命令git status > Modified.txt。
执行命令cat Modified.txt，观察其结果和第一次执行 add 命令之前的 status 是 否一样，并思考原因。


1. Untracked.txt
$  cat Untracked.txt
位于分支 master
未跟踪的文件:
  （使用 "git add <文件>..." 以包含要提交的内容）
        README.txt
        Untracked.txt

提交为空，但是存在尚未跟踪的文件（使用 "git add" 建立跟踪）
新建了README.txt文件，处于Untracked状态。'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://oNya685.github.io/posts/"},{"@type":"ListItem","position":2,"name":"北京航空航天大学","item":"https://oNya685.github.io/posts/buaa/"},{"@type":"ListItem","position":3,"name":"操作系统","item":"https://oNya685.github.io/posts/buaa/os/"},{"@type":"ListItem","position":4,"name":"[BUAA-OS] Lab 0 实验报告","item":"https://oNya685.github.io/posts/buaa/os/lab-0-report/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[BUAA-OS] Lab 0 实验报告","name":"[BUAA-OS] Lab 0 实验报告","description":"一、思考题 Thinking 0.1 思考下列有关 Git 的问题：\n在前述已初始化的~/learnGit 目录下，创建一个名为 README.txt 的文件。执 行命令git status \u0026gt; Untracked.txt（其中的 \u0026gt; 为输出重定向，我们将在 0.6.3 中 详细介绍）。 在README.txt 文件中添加任意文件内容，然后使用 add 命令，再执行命令 git status \u0026gt; Stage.txt。 提交README.txt，并在提交说明里写入自己的学号。 执行命令cat Untracked.txt 和 cat Stage.txt，对比两次运行的结果，体会 README.txt 两次所处位置的不同。 修改README.txt 文件，再执行命令git status \u0026gt; Modified.txt。 执行命令cat Modified.txt，观察其结果和第一次执行 add 命令之前的 status 是 否一样，并思考原因。 1. Untracked.txt $ cat Untracked.txt 位于分支 master 未跟踪的文件: （使用 \u0026#34;git add \u0026lt;文件\u0026gt;...\u0026#34; 以包含要提交的内容） README.txt Untracked.txt 提交为空，但是存在尚未跟踪的文件（使用 \u0026#34;git add\u0026#34; 建立跟踪） 新建了README.txt文件，处于Untracked状态。\n","keywords":[],"articleBody":"一、思考题 Thinking 0.1 思考下列有关 Git 的问题：\n在前述已初始化的~/learnGit 目录下，创建一个名为 README.txt 的文件。执 行命令git status \u003e Untracked.txt（其中的 \u003e 为输出重定向，我们将在 0.6.3 中 详细介绍）。 在README.txt 文件中添加任意文件内容，然后使用 add 命令，再执行命令 git status \u003e Stage.txt。 提交README.txt，并在提交说明里写入自己的学号。 执行命令cat Untracked.txt 和 cat Stage.txt，对比两次运行的结果，体会 README.txt 两次所处位置的不同。 修改README.txt 文件，再执行命令git status \u003e Modified.txt。 执行命令cat Modified.txt，观察其结果和第一次执行 add 命令之前的 status 是 否一样，并思考原因。 1. Untracked.txt $ cat Untracked.txt 位于分支 master 未跟踪的文件: （使用 \"git add \u003c文件\u003e...\" 以包含要提交的内容） README.txt Untracked.txt 提交为空，但是存在尚未跟踪的文件（使用 \"git add\" 建立跟踪） 新建了README.txt文件，处于Untracked状态。\n2. Staged.txt $ cat Staged.txt 位于分支 master 要提交的变更： （使用 \"git restore --staged \u003c文件\u003e...\" 以取消暂存） 新文件： README.txt 未跟踪的文件: （使用 \"git add \u003c文件\u003e...\" 以包含要提交的内容） Staged.txt Untracked.txt 修改了README.txt的文件内容，并跟踪和暂存该文件，处于Staged状态。\n3. Modified.txt $ cat Modified.txt 位于分支 master 尚未暂存以备提交的变更： （使用 \"git add \u003c文件\u003e...\" 更新要提交的内容） （使用 \"git restore \u003c文件\u003e...\" 丢弃工作区的改动） 修改： README.txt 未跟踪的文件: （使用 \"git add \u003c文件\u003e...\" 以包含要提交的内容） Modified.txt Staged.txt Untracked.txt 修改尚未加入提交（使用 \"git add\" 和/或 \"git commit -a\"） README.txt经暂存和提交后处于Unmodified状态，修改文件内容使其进入Modified状态等待暂存。\nThinking 0.2 仔细看看0.10，思考一下箭头中的add the file、stage the file和 commit分别对应的是Git里的哪些命令呢？\n1. add the file add the file 对应的是git add。\n2. stage the file stage the file 对应的是git add。\n3. commit commit 对应的是git commit。\nThinking 0.3 思考下列问题：\n代码文件 print.c 被错误删除时，应当使用什么命令将其恢复？ 代码文件 print.c 被错误删除后，执行了 git rm print.c 命令，此时应当使用什么命令将其恢复？ 无关文件 hello.txt 已经被添加到暂存区时，如何在不删除此文件的前提下将其移出暂存区？ 1. 代码文件 print.c 被错误删除时，应当使用什么命令将其恢复？ git restore print.c print.c 尚未执行git add，故可以从暂存区将 print.c 恢复到工作区中。\n2. 代码文件 print.c 被错误删除后，执行了 git rm print.c 命令，此时应当使用什么命令将其恢复？ git reset HEAD print.c git restore print.c 首先撤销暂存区的修改（删除了 print.c ），然后将 print.c 从暂存区恢复到工作区。\n3. 无关文件 hello.txt 已经被添加到暂存区时，如何在不删除此文件的前提下将其移出暂存区？ git reset HEAD hello.txt 撤销暂存区的修改，把暂存区恢复到执行git add之前的状态。\nThinking 0.4 思考下列有关 Git 的问题：\n找到在 /home/22xxxxxx/learnGit 下刚刚创建的 README.txt 文件，若不存在则新建该文件。 在文件里加入 Testing 1，git add，git commit，提交说明记为 1。 模仿上述做法，把 1 分别改为 2 和 3，再提交两次。 使用 git log 命令查看提交日志，看是否已经有三次提交，记下提交说明为 3 的哈希值1。 进行版本回退。执行命令 git reset –hard HEAD^ 后，再执行 git log，观察其变化。 找到提交说明为 1 的哈希值，执行命令 git reset –hard 后，再执行 git log，观察其变化。 现在已经回到了旧版本，为了再次回到新版本，执行 git reset –hard ，再执行 git log，观察其变化。 $ git log commit a6ebe244272dd6bcb1f57ba9af3c957f3e7235b3 (HEAD -\u003e master) Author: 姜宇墨 Date: Tue Mar 11 19:08:41 2025 +0800 3 commit 1d11df1461528ce8e2b67151384d4b24bdfec571 Author: 姜宇墨 Date: Tue Mar 11 19:08:33 2025 +0800 2 commit 3f8eb4043efae29bbb9eb626444f955a825f3535 Author: 姜宇墨 Date: Tue Mar 11 19:08:12 2025 +0800 1 提交说明为3的哈希值为a6ebe244272dd6bcb1f57ba9af3c957f3e7235b3。\n$ git reset --hard HEAD^ HEAD 现在位于 1d11df1 2 $ git log commit 1d11df1461528ce8e2b67151384d4b24bdfec571 (HEAD -\u003e master) Author: 姜宇墨 Date: Tue Mar 11 19:08:33 2025 +0800 2 commit 3f8eb4043efae29bbb9eb626444f955a825f3535 Author: 姜宇墨 Date: Tue Mar 11 19:08:12 2025 +0800 1 变化：当前 Git 仓库的状态回到了2。\n$ git reset --hard 3f8eb4043efae29bbb9eb626444f955a825f3535 HEAD 现在位于 3f8eb40 1 $ git log commit 3f8eb4043efae29bbb9eb626444f955a825f3535 (HEAD -\u003e master) Author: 姜宇墨 Date: Tue Mar 11 19:08:12 2025 +0800 1 变化：当前 Git 仓库的状态回到了1。\n$ git reset --hard a6ebe244272dd6bcb1f57ba9af3c957f3e7235b3 HEAD 现在位于 a6ebe24 3 $ git log commit a6ebe244272dd6bcb1f57ba9af3c957f3e7235b3 (HEAD -\u003e master) Author: 姜宇墨 Date: Tue Mar 11 19:08:41 2025 +0800 3 commit 1d11df1461528ce8e2b67151384d4b24bdfec571 Author: 姜宇墨 Date: Tue Mar 11 19:08:33 2025 +0800 2 commit 3f8eb4043efae29bbb9eb626444f955a825f3535 Author: 姜宇墨 Date: Tue Mar 11 19:08:12 2025 +0800 1 变化：当前 Git 仓库的状态回到了3。\nThinking 0.5 执行如下命令, 并查看结果\necho first echo second \u003e output.txt echo third \u003e output.txt echo forth » output.txt $ echo first first $ echo second \u003e output.txt \u0026\u0026 cat output.txt second $ echo third \u003e output.txt \u0026\u0026 cat output.txt third $ echo forth \u003e\u003e output.txt \u0026\u0026 cat output.txt third forth Thinking 0.6 使用你知道的方法（包括重定向）创建下图内容的文件（文件命名为 test），将创建该文件的命令序列保存在 command 文件中，并将 test 文件作为批处理文件运行，将运行结果输出至 result 文件中。给出 command 文件和 result 文件的内容，并对最后的结果进行解释说明（可以从 test 文件的内容入手）. 具体实现的过程中思考下列问题: echo echo Shell Start 与 echo `echo Shell Start` 效果是否有区别; echo echo $c\u003efile1 与 echo `echo $c\u003efile1` 效果是否有区别.\n# command echo 'echo Shell Start...' \u003e test echo 'echo set a = 1' \u003e\u003e test echo 'a=1' \u003e\u003e test echo 'echo set b = 2' \u003e\u003e test echo 'b=2' \u003e\u003e test echo 'echo set c = a+b' \u003e\u003e test echo 'c=$[$a+$b]' \u003e\u003e test echo 'echo c = $c' \u003e\u003e test echo 'echo save c to ./file1' \u003e\u003e test echo 'echo $c\u003efile1' \u003e\u003e test echo 'echo save b to ./file2' \u003e\u003e test echo 'echo $b\u003efile2' \u003e\u003e test echo 'echo save a to ./file3' \u003e\u003e test echo 'echo $a\u003efile3' \u003e\u003e test # 注意此处逻辑错误，应为echo $a\u003efile3 echo 'echo save file1 file2 file3 to file4' \u003e\u003e test echo 'cat file1\u003efile4' \u003e\u003e test echo 'cat file2\u003e\u003efile4' \u003e\u003e test echo 'cat file3\u003e\u003efile4' \u003e\u003e test echo 'echo save file4 to ./result' \u003e\u003e test echo 'cat file4\u003e\u003eresult' \u003e\u003e test # test echo Shell Start... # 输出初始化提示 echo set a = 1 a=1 # 设置变量a=1 echo set b = 2 b=2 # 设置变量b=2 echo set c = a+b c=$[$a+$b] # 执行算术运算c=a+b=1+2=3 echo c = $c # 输出计算结果 echo save c to ./file1 echo $c\u003efile1 # 将c的值写入file1 echo save b to ./file2 echo $b\u003efile2 # 将b的值写入file2 echo save a to ./file3 echo $a\u003efile3 # 将a的值写入file3 echo save file1 file2 file3 to file4 cat file1\u003efile4 # 创建file4并写入file1内容 cat file2\u003e\u003efile4 # 追加file2内容 cat file3\u003e\u003efile4 # 追加file3内容 echo save file4 to ./result cat file4\u003e\u003eresult # 最终结果是c,b,a的值 $ ./test Shell Start... set a = 1 set b = 2 set c = a+b c = 3 save c to ./file1 save b to ./file2 save a to ./file3 save file1 file2 file3 to file4 save file4 to ./result $ cat result 3 2 1 反引号会先执行命令替换，改变重定向行为。\necho echo Shell Start echo `echo Shell Start` 输出字符串echo Shell Start 先执行命令echo Shell Start再输出该命令的执行结果Shell Start echo echo $c\u003efile1 echo `echo $c\u003efile1` 将字符串echo 3写入file1 先将3写入file1，再输出写入的执行结果（为空），即终端无输出 二、难点分析与实验体会 本次实验的主要难点在于工具链的命令行参数和shell编程掌握不够熟练。\n难点1：sed的用法 为实现在 hello_os.sh 所处的目录新建一个名为BBB的文件，其内容为 AAA文件的第8、32、128、512、1024行的内容提取，构造sed命令\nsed -n '8p;32p;128p;512p;1024p' \"$1\" \u003e \"$2\" 难点2：awk行号提取 grep -n \"$2\" ./\"$1\" | awk -F ':' '{print $1}' \u003e ./\"$3\" 难点3：GCC与Make的特殊用法 # 多目录编译示例 gcc -I ../include -c fibo.c -o fibo.o # 调用子目录make命令示例 make -C code fibo.o 三、原创说明 在本次实验中，对工具链的使用参考了官方 manual 和--help参数。\n在 Neovim 和 LazyVim 的安装与配置中，参考了如何在Ubuntu上安装最新版本的Neovim并快速配置_ubuntu安装neovim-CSDN博客\n使用 git log 命令时，在 commit 标识符后的一长串数字和字母组成的字符串 ↩︎\n","wordCount":"2844","inLanguage":"en","datePublished":"2025-03-16T11:27:33+08:00","dateModified":"2025-03-16T11:27:33+08:00","author":{"@type":"Person","name":"oNya"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://oNya685.github.io/posts/buaa/os/lab-0-report/"},"publisher":{"@type":"Organization","name":"oNya's Blog","logo":{"@type":"ImageObject","url":"https://oNya685.github.io/favicon.ico"}}}</script><script src=https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css><script src=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js></script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://oNya685.github.io/ accesskey=h title="主页 | oNya's Blog (Alt + H)"><img src=https://oNya685.github.io/ alt aria-label=logo height=30>主页 | oNya's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://oNya685.github.io/archives/ title=归档><span>归档</span></a></li><li><a href=https://oNya685.github.io/categories/ title=分类><span>分类</span></a></li><li><a href=https://oNya685.github.io/tags/ title=标签><span>标签</span></a></li><li><a href=https://oNya685.github.io/links/ title=链接><span>链接</span></a></li><li><a href=https://oNya685.github.io/search/ title=搜索><span>搜索</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://oNya685.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://oNya685.github.io/posts/>Posts</a>&nbsp;»&nbsp;<a href=https://oNya685.github.io/posts/buaa/>北京航空航天大学</a>&nbsp;»&nbsp;<a href=https://oNya685.github.io/posts/buaa/os/>操作系统</a></div><h1 class="post-title entry-hint-parent">[BUAA-OS] Lab 0 实验报告</h1><div class=post-meta><span title='2025-03-16 11:27:33 +0800 CST'>2025年3月16日</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;2844 words&nbsp;·&nbsp;oNya</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e4%b8%80%e6%80%9d%e8%80%83%e9%a2%98 aria-label=一、思考题>一、思考题</a><ul><li><a href=#thinking-01 aria-label="Thinking 0.1">Thinking 0.1</a><ul><li><a href=#1-untrackedtxt aria-label="1. Untracked.txt">1. Untracked.txt</a></li><li><a href=#2-stagedtxt aria-label="2. Staged.txt">2. Staged.txt</a></li><li><a href=#3-modifiedtxt aria-label="3. Modified.txt">3. Modified.txt</a></li></ul></li><li><a href=#thinking-02 aria-label="Thinking 0.2">Thinking 0.2</a><ul><li><a href=#1-add-the-file aria-label="1. add the file">1. add the file</a></li><li><a href=#2-stage-the-file aria-label="2. stage the file">2. stage the file</a></li><li><a href=#3-commit aria-label="3. commit">3. commit</a></li></ul></li><li><a href=#thinking-03 aria-label="Thinking 0.3">Thinking 0.3</a><ul><li><a href=#1-%e4%bb%a3%e7%a0%81%e6%96%87%e4%bb%b6-printc-%e8%a2%ab%e9%94%99%e8%af%af%e5%88%a0%e9%99%a4%e6%97%b6%e5%ba%94%e5%bd%93%e4%bd%bf%e7%94%a8%e4%bb%80%e4%b9%88%e5%91%bd%e4%bb%a4%e5%b0%86%e5%85%b6%e6%81%a2%e5%a4%8d aria-label="1. 代码文件 print.c 被错误删除时，应当使用什么命令将其恢复？">1. 代码文件 print.c 被错误删除时，应当使用什么命令将其恢复？</a></li><li><a href=#2-%e4%bb%a3%e7%a0%81%e6%96%87%e4%bb%b6-printc-%e8%a2%ab%e9%94%99%e8%af%af%e5%88%a0%e9%99%a4%e5%90%8e%e6%89%a7%e8%a1%8c%e4%ba%86-git-rm-printc-%e5%91%bd%e4%bb%a4%e6%ad%a4%e6%97%b6%e5%ba%94%e5%bd%93%e4%bd%bf%e7%94%a8%e4%bb%80%e4%b9%88%e5%91%bd%e4%bb%a4%e5%b0%86%e5%85%b6%e6%81%a2%e5%a4%8d aria-label="2. 代码文件 print.c 被错误删除后，执行了 git rm print.c 命令，此时应当使用什么命令将其恢复？">2. 代码文件 print.c 被错误删除后，执行了 git rm print.c 命令，此时应当使用什么命令将其恢复？</a></li><li><a href=#3-%e6%97%a0%e5%85%b3%e6%96%87%e4%bb%b6-hellotxt-%e5%b7%b2%e7%bb%8f%e8%a2%ab%e6%b7%bb%e5%8a%a0%e5%88%b0%e6%9a%82%e5%ad%98%e5%8c%ba%e6%97%b6%e5%a6%82%e4%bd%95%e5%9c%a8%e4%b8%8d%e5%88%a0%e9%99%a4%e6%ad%a4%e6%96%87%e4%bb%b6%e7%9a%84%e5%89%8d%e6%8f%90%e4%b8%8b%e5%b0%86%e5%85%b6%e7%a7%bb%e5%87%ba%e6%9a%82%e5%ad%98%e5%8c%ba aria-label="3. 无关文件 hello.txt 已经被添加到暂存区时，如何在不删除此文件的前提下将其移出暂存区？">3. 无关文件 hello.txt 已经被添加到暂存区时，如何在不删除此文件的前提下将其移出暂存区？</a></li></ul></li><li><a href=#thinking-04 aria-label="Thinking 0.4">Thinking 0.4</a></li><li><a href=#thinking-05 aria-label="Thinking 0.5">Thinking 0.5</a></li><li><a href=#thinking-06 aria-label="Thinking 0.6">Thinking 0.6</a></li></ul></li><li><a href=#%e4%ba%8c%e9%9a%be%e7%82%b9%e5%88%86%e6%9e%90%e4%b8%8e%e5%ae%9e%e9%aa%8c%e4%bd%93%e4%bc%9a aria-label=二、难点分析与实验体会>二、难点分析与实验体会</a><ul><ul><li><a href=#%e9%9a%be%e7%82%b91sed%e7%9a%84%e7%94%a8%e6%b3%95 aria-label=难点1：sed的用法>难点1：sed的用法</a></li><li><a href=#%e9%9a%be%e7%82%b92awk%e8%a1%8c%e5%8f%b7%e6%8f%90%e5%8f%96 aria-label=难点2：awk行号提取>难点2：awk行号提取</a></li><li><a href=#%e9%9a%be%e7%82%b93gcc%e4%b8%8emake%e7%9a%84%e7%89%b9%e6%ae%8a%e7%94%a8%e6%b3%95 aria-label=难点3：GCC与Make的特殊用法>难点3：GCC与Make的特殊用法</a></li></ul></ul></li><li><a href=#%e4%b8%89%e5%8e%9f%e5%88%9b%e8%af%b4%e6%98%8e aria-label=三、原创说明>三、原创说明</a></li></ul></div></details></div><div class=post-content><h1 id=一思考题>一、思考题<a hidden class=anchor aria-hidden=true href=#一思考题>#</a></h1><h2 id=thinking-01>Thinking 0.1<a hidden class=anchor aria-hidden=true href=#thinking-01>#</a></h2><blockquote><p>思考下列有关 Git 的问题：</p><ul><li>在前述已初始化的~/learnGit 目录下，创建一个名为 README.txt 的文件。执 行命令git status > Untracked.txt（其中的 > 为输出重定向，我们将在 0.6.3 中 详细介绍）。</li><li>在README.txt 文件中添加任意文件内容，然后使用 add 命令，再执行命令 git status > Stage.txt。</li><li>提交README.txt，并在提交说明里写入自己的学号。</li><li>执行命令cat Untracked.txt 和 cat Stage.txt，对比两次运行的结果，体会 README.txt 两次所处位置的不同。</li><li>修改README.txt 文件，再执行命令git status > Modified.txt。</li><li>执行命令cat Modified.txt，观察其结果和第一次执行 add 命令之前的 status 是 否一样，并思考原因。</li></ul></blockquote><hr><h3 id=1-untrackedtxt>1. Untracked.txt<a hidden class=anchor aria-hidden=true href=#1-untrackedtxt>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$  cat Untracked.txt
</span></span><span style=display:flex><span>位于分支 master
</span></span><span style=display:flex><span>未跟踪的文件:
</span></span><span style=display:flex><span>  （使用 <span style=color:#e6db74>&#34;git add &lt;文件&gt;...&#34;</span> 以包含要提交的内容）
</span></span><span style=display:flex><span>        README.txt
</span></span><span style=display:flex><span>        Untracked.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>提交为空，但是存在尚未跟踪的文件（使用 <span style=color:#e6db74>&#34;git add&#34;</span> 建立跟踪）
</span></span></code></pre></div><p>新建了<code>README.txt</code>文件，处于Untracked状态。</p><h3 id=2-stagedtxt>2. Staged.txt<a hidden class=anchor aria-hidden=true href=#2-stagedtxt>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$  cat Staged.txt
</span></span><span style=display:flex><span>位于分支 master
</span></span><span style=display:flex><span>要提交的变更：
</span></span><span style=display:flex><span>  （使用 <span style=color:#e6db74>&#34;git restore --staged &lt;文件&gt;...&#34;</span> 以取消暂存）
</span></span><span style=display:flex><span>        新文件：   README.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>未跟踪的文件:
</span></span><span style=display:flex><span>  （使用 <span style=color:#e6db74>&#34;git add &lt;文件&gt;...&#34;</span> 以包含要提交的内容）
</span></span><span style=display:flex><span>        Staged.txt
</span></span><span style=display:flex><span>        Untracked.txt
</span></span></code></pre></div><p>修改了<code>README.txt</code>的文件内容，并跟踪和暂存该文件，处于Staged状态。</p><h3 id=3-modifiedtxt>3. Modified.txt<a hidden class=anchor aria-hidden=true href=#3-modifiedtxt>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$  cat Modified.txt
</span></span><span style=display:flex><span>位于分支 master
</span></span><span style=display:flex><span>尚未暂存以备提交的变更：
</span></span><span style=display:flex><span>  （使用 <span style=color:#e6db74>&#34;git add &lt;文件&gt;...&#34;</span> 更新要提交的内容）
</span></span><span style=display:flex><span>  （使用 <span style=color:#e6db74>&#34;git restore &lt;文件&gt;...&#34;</span> 丢弃工作区的改动）
</span></span><span style=display:flex><span>        修改：     README.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>未跟踪的文件:
</span></span><span style=display:flex><span>  （使用 <span style=color:#e6db74>&#34;git add &lt;文件&gt;...&#34;</span> 以包含要提交的内容）
</span></span><span style=display:flex><span>        Modified.txt
</span></span><span style=display:flex><span>        Staged.txt
</span></span><span style=display:flex><span>        Untracked.txt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>修改尚未加入提交（使用 <span style=color:#e6db74>&#34;git add&#34;</span> 和/或 <span style=color:#e6db74>&#34;git commit -a&#34;</span>）
</span></span></code></pre></div><p><code>README.txt</code>经暂存和提交后处于Unmodified状态，修改文件内容使其进入Modified状态等待暂存。</p><h2 id=thinking-02>Thinking 0.2<a hidden class=anchor aria-hidden=true href=#thinking-02>#</a></h2><blockquote><p>仔细看看<a href=%E5%9B%BE%200.10%20-%20Git%20%E4%B8%AD%E7%9A%84%E5%9B%9B%E7%A7%8D%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2%E5%85%B3%E7%B3%BB.png>0.10</a>，思考一下箭头中的add the file、stage the file和 commit分别对应的是Git里的哪些命令呢？</p><p><div class=post-img-view><a data-fancybox=gallery href=%E5%9B%BE%200.10%20-%20Git%20%E4%B8%AD%E7%9A%84%E5%9B%9B%E7%A7%8D%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2%E5%85%B3%E7%B3%BB.png><img alt="图 0.10 - Git 中的四种状态转换关系" loading=lazy src=/posts/buaa/os/lab-0-report/%E5%9B%BE%200.10%20-%20Git%20%E4%B8%AD%E7%9A%84%E5%9B%9B%E7%A7%8D%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2%E5%85%B3%E7%B3%BB_hu_85b07da4fcfbe74e.webp></a></div></p></blockquote><hr><h3 id=1-add-the-file>1. add the file<a hidden class=anchor aria-hidden=true href=#1-add-the-file>#</a></h3><p>add the file 对应的是<code>git add</code>。</p><h3 id=2-stage-the-file>2. stage the file<a hidden class=anchor aria-hidden=true href=#2-stage-the-file>#</a></h3><p>stage the file 对应的是<code>git add</code>。</p><h3 id=3-commit>3. commit<a hidden class=anchor aria-hidden=true href=#3-commit>#</a></h3><p>commit 对应的是<code>git commit</code>。</p><h2 id=thinking-03>Thinking 0.3<a hidden class=anchor aria-hidden=true href=#thinking-03>#</a></h2><blockquote><p>思考下列问题：</p><ol><li>代码文件 print.c 被错误删除时，应当使用什么命令将其恢复？</li><li>代码文件 print.c 被错误删除后，执行了 git rm print.c 命令，此时应当使用什么命令将其恢复？</li><li>无关文件 hello.txt 已经被添加到暂存区时，如何在不删除此文件的前提下将其移出暂存区？</li></ol></blockquote><h3 id=1-代码文件-printc-被错误删除时应当使用什么命令将其恢复>1. 代码文件 print.c 被错误删除时，应当使用什么命令将其恢复？<a hidden class=anchor aria-hidden=true href=#1-代码文件-printc-被错误删除时应当使用什么命令将其恢复>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git restore print.c
</span></span></code></pre></div><p>print.c 尚未执行<code>git add</code>，故可以从暂存区将 print.c 恢复到工作区中。</p><h3 id=2-代码文件-printc-被错误删除后执行了-git-rm-printc-命令此时应当使用什么命令将其恢复>2. 代码文件 print.c 被错误删除后，执行了 git rm print.c 命令，此时应当使用什么命令将其恢复？<a hidden class=anchor aria-hidden=true href=#2-代码文件-printc-被错误删除后执行了-git-rm-printc-命令此时应当使用什么命令将其恢复>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git reset HEAD print.c
</span></span><span style=display:flex><span>git restore print.c
</span></span></code></pre></div><p>首先撤销暂存区的修改（删除了 print.c ），然后将 print.c 从暂存区恢复到工作区。</p><h3 id=3-无关文件-hellotxt-已经被添加到暂存区时如何在不删除此文件的前提下将其移出暂存区>3. 无关文件 hello.txt 已经被添加到暂存区时，如何在不删除此文件的前提下将其移出暂存区？<a hidden class=anchor aria-hidden=true href=#3-无关文件-hellotxt-已经被添加到暂存区时如何在不删除此文件的前提下将其移出暂存区>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git reset HEAD hello.txt
</span></span></code></pre></div><p>撤销暂存区的修改，把暂存区恢复到执行<code>git add</code>之前的状态。</p><h2 id=thinking-04>Thinking 0.4<a hidden class=anchor aria-hidden=true href=#thinking-04>#</a></h2><blockquote><p>思考下列有关 Git 的问题：</p><ul><li>找到在 /home/22xxxxxx/learnGit 下刚刚创建的 README.txt 文件，若不存在则新建该文件。</li><li>在文件里加入 Testing 1，git add，git commit，提交说明记为 1。</li><li>模仿上述做法，把 1 分别改为 2 和 3，再提交两次。</li><li>使用 git log 命令查看提交日志，看是否已经有三次提交，记下提交说明为 3 的哈希值<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>。</li><li>进行版本回退。执行命令 git reset &ndash;hard HEAD^ 后，再执行 git log，观察其变化。</li><li>找到提交说明为 1 的哈希值，执行命令 git reset &ndash;hard &lt;hash> 后，再执行 git log，观察其变化。</li><li>现在已经回到了旧版本，为了再次回到新版本，执行 git reset &ndash;hard &lt;hash>，再执行 git log，观察其变化。</li></ul></blockquote><hr><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$  git log
</span></span><span style=display:flex><span>commit a6ebe244272dd6bcb1f57ba9af3c957f3e7235b3 <span style=color:#f92672>(</span>HEAD -&gt; master<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Author: 姜宇墨 &lt;YumoJiang@buaa.edu.cn&gt;
</span></span><span style=display:flex><span>Date:   Tue Mar <span style=color:#ae81ff>11</span> 19:08:41 <span style=color:#ae81ff>2025</span> +0800
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit 1d11df1461528ce8e2b67151384d4b24bdfec571
</span></span><span style=display:flex><span>Author: 姜宇墨 &lt;YumoJiang@buaa.edu.cn&gt;
</span></span><span style=display:flex><span>Date:   Tue Mar <span style=color:#ae81ff>11</span> 19:08:33 <span style=color:#ae81ff>2025</span> +0800
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit 3f8eb4043efae29bbb9eb626444f955a825f3535
</span></span><span style=display:flex><span>Author: 姜宇墨 &lt;YumoJiang@buaa.edu.cn&gt;
</span></span><span style=display:flex><span>Date:   Tue Mar <span style=color:#ae81ff>11</span> 19:08:12 <span style=color:#ae81ff>2025</span> +0800
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>1</span>
</span></span></code></pre></div><p>提交说明为<code>3</code>的哈希值为<code>a6ebe244272dd6bcb1f57ba9af3c957f3e7235b3</code>。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$  git reset --hard HEAD^
</span></span><span style=display:flex><span>HEAD 现在位于 1d11df1 <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>$  git log
</span></span><span style=display:flex><span>commit 1d11df1461528ce8e2b67151384d4b24bdfec571 <span style=color:#f92672>(</span>HEAD -&gt; master<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Author: 姜宇墨 &lt;YumoJiang@buaa.edu.cn&gt;
</span></span><span style=display:flex><span>Date:   Tue Mar <span style=color:#ae81ff>11</span> 19:08:33 <span style=color:#ae81ff>2025</span> +0800
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit 3f8eb4043efae29bbb9eb626444f955a825f3535
</span></span><span style=display:flex><span>Author: 姜宇墨 &lt;YumoJiang@buaa.edu.cn&gt;
</span></span><span style=display:flex><span>Date:   Tue Mar <span style=color:#ae81ff>11</span> 19:08:12 <span style=color:#ae81ff>2025</span> +0800
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>1</span>
</span></span></code></pre></div><p>变化：当前 Git 仓库的状态回到了<code>2</code>。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$  git reset --hard 3f8eb4043efae29bbb9eb626444f955a825f3535
</span></span><span style=display:flex><span>HEAD 现在位于 3f8eb40 <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>$  git log
</span></span><span style=display:flex><span>commit 3f8eb4043efae29bbb9eb626444f955a825f3535 <span style=color:#f92672>(</span>HEAD -&gt; master<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Author: 姜宇墨 &lt;YumoJiang@buaa.edu.cn&gt;
</span></span><span style=display:flex><span>Date:   Tue Mar <span style=color:#ae81ff>11</span> 19:08:12 <span style=color:#ae81ff>2025</span> +0800
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>1</span>
</span></span></code></pre></div><p>变化：当前 Git 仓库的状态回到了<code>1</code>。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$  git reset --hard a6ebe244272dd6bcb1f57ba9af3c957f3e7235b3
</span></span><span style=display:flex><span>HEAD 现在位于 a6ebe24 <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>$  git log
</span></span><span style=display:flex><span>commit a6ebe244272dd6bcb1f57ba9af3c957f3e7235b3 <span style=color:#f92672>(</span>HEAD -&gt; master<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Author: 姜宇墨 &lt;YumoJiang@buaa.edu.cn&gt;
</span></span><span style=display:flex><span>Date:   Tue Mar <span style=color:#ae81ff>11</span> 19:08:41 <span style=color:#ae81ff>2025</span> +0800
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit 1d11df1461528ce8e2b67151384d4b24bdfec571
</span></span><span style=display:flex><span>Author: 姜宇墨 &lt;YumoJiang@buaa.edu.cn&gt;
</span></span><span style=display:flex><span>Date:   Tue Mar <span style=color:#ae81ff>11</span> 19:08:33 <span style=color:#ae81ff>2025</span> +0800
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>commit 3f8eb4043efae29bbb9eb626444f955a825f3535
</span></span><span style=display:flex><span>Author: 姜宇墨 &lt;YumoJiang@buaa.edu.cn&gt;
</span></span><span style=display:flex><span>Date:   Tue Mar <span style=color:#ae81ff>11</span> 19:08:12 <span style=color:#ae81ff>2025</span> +0800
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>1</span>
</span></span></code></pre></div><p>变化：当前 Git 仓库的状态回到了<code>3</code>。</p><h2 id=thinking-05>Thinking 0.5<a hidden class=anchor aria-hidden=true href=#thinking-05>#</a></h2><blockquote><p>执行如下命令, 并查看结果</p><ul><li>echo first</li><li>echo second > output.txt</li><li>echo third > output.txt</li><li>echo forth &#187; output.txt</li></ul></blockquote><hr><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$  echo first
</span></span><span style=display:flex><span>first
</span></span><span style=display:flex><span>$  echo second &gt; output.txt <span style=color:#f92672>&amp;&amp;</span> cat output.txt
</span></span><span style=display:flex><span>second
</span></span><span style=display:flex><span>$  echo third &gt; output.txt <span style=color:#f92672>&amp;&amp;</span> cat output.txt
</span></span><span style=display:flex><span>third
</span></span><span style=display:flex><span>$  echo forth &gt;&gt; output.txt <span style=color:#f92672>&amp;&amp;</span> cat output.txt
</span></span><span style=display:flex><span>third
</span></span><span style=display:flex><span>forth
</span></span></code></pre></div><h2 id=thinking-06>Thinking 0.6<a hidden class=anchor aria-hidden=true href=#thinking-06>#</a></h2><blockquote><p>使用你知道的方法（包括重定向）创建下图内容的文件（文件命名为 test），将创建该文件的命令序列保存在 command 文件中，并将 test 文件作为批处理文件运行，将运行结果输出至 result 文件中。给出 command 文件和 result 文件的内容，并对最后的结果进行解释说明（可以从 test 文件的内容入手）. 具体实现的过程中思考下列问题: echo echo Shell Start 与 echo `echo Shell Start` 效果是否有区别; echo echo $c>file1 与 echo `echo $c>file1` 效果是否有区别.</p></blockquote><hr><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># command</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;echo Shell Start...&#39;</span> &gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;echo set a = 1&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;a=1&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;echo set b = 2&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;b=2&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;echo set c = a+b&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;c=$[$a+$b]&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;echo c = $c&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;echo save c to ./file1&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;echo $c&gt;file1&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;echo save b to ./file2&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;echo $b&gt;file2&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;echo save a to ./file3&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;echo $a&gt;file3&#39;</span> &gt;&gt; test  <span style=color:#75715e># 注意此处逻辑错误，应为echo $a&gt;file3</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;echo save file1 file2 file3 to file4&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;cat file1&gt;file4&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;cat file2&gt;&gt;file4&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;cat file3&gt;&gt;file4&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;echo save file4 to ./result&#39;</span> &gt;&gt; test
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#39;cat file4&gt;&gt;result&#39;</span> &gt;&gt; test
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># test</span>
</span></span><span style=display:flex><span>echo Shell Start...        <span style=color:#75715e># 输出初始化提示</span>
</span></span><span style=display:flex><span>echo set a <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>a<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>                        <span style=color:#75715e># 设置变量a=1</span>
</span></span><span style=display:flex><span>echo set b <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>b<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>                        <span style=color:#75715e># 设置变量b=2</span>
</span></span><span style=display:flex><span>echo set c <span style=color:#f92672>=</span> a+b
</span></span><span style=display:flex><span>c<span style=color:#f92672>=</span>$<span style=color:#f92672>[</span>$a+$b<span style=color:#f92672>]</span>                 <span style=color:#75715e># 执行算术运算c=a+b=1+2=3</span>
</span></span><span style=display:flex><span>echo c <span style=color:#f92672>=</span> $c                <span style=color:#75715e># 输出计算结果</span>
</span></span><span style=display:flex><span>echo save c to ./file1
</span></span><span style=display:flex><span>echo $c&gt;file1              <span style=color:#75715e># 将c的值写入file1</span>
</span></span><span style=display:flex><span>echo save b to ./file2
</span></span><span style=display:flex><span>echo $b&gt;file2              <span style=color:#75715e># 将b的值写入file2</span>
</span></span><span style=display:flex><span>echo save a to ./file3
</span></span><span style=display:flex><span>echo $a&gt;file3              <span style=color:#75715e># 将a的值写入file3</span>
</span></span><span style=display:flex><span>echo save file1 file2 file3 to file4
</span></span><span style=display:flex><span>cat file1&gt;file4            <span style=color:#75715e># 创建file4并写入file1内容</span>
</span></span><span style=display:flex><span>cat file2&gt;&gt;file4           <span style=color:#75715e># 追加file2内容</span>
</span></span><span style=display:flex><span>cat file3&gt;&gt;file4           <span style=color:#75715e># 追加file3内容</span>
</span></span><span style=display:flex><span>echo save file4 to ./result
</span></span><span style=display:flex><span>cat file4&gt;&gt;result          <span style=color:#75715e># 最终结果是c,b,a的值</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$  ./test
</span></span><span style=display:flex><span>Shell Start...
</span></span><span style=display:flex><span>set a <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>set b <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>set c <span style=color:#f92672>=</span> a+b
</span></span><span style=display:flex><span>c <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>save c to ./file1
</span></span><span style=display:flex><span>save b to ./file2
</span></span><span style=display:flex><span>save a to ./file3
</span></span><span style=display:flex><span>save file1 file2 file3 to file4
</span></span><span style=display:flex><span>save file4 to ./result
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$  cat result
</span></span><span style=display:flex><span><span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span>
</span></span></code></pre></div><p>反引号会先执行命令替换，改变重定向行为。</p><table><thead><tr><th>echo echo Shell Start</th><th>echo `echo Shell Start`</th></tr></thead><tbody><tr><td>输出字符串<code>echo Shell Start</code></td><td>先执行命令<code>echo Shell Start</code>再输出该命令的执行结果<code>Shell Start</code></td></tr></tbody></table><table><thead><tr><th>echo echo $c>file1</th><th>echo `echo $c>file1`</th></tr></thead><tbody><tr><td>将字符串<code>echo 3</code>写入file1</td><td>先将<code>3</code>写入file1，再输出写入的执行结果（为空），即终端无输出</td></tr></tbody></table><h1 id=二难点分析与实验体会>二、难点分析与实验体会<a hidden class=anchor aria-hidden=true href=#二难点分析与实验体会>#</a></h1><p>本次实验的主要难点在于<strong>工具链的命令行参数</strong>和<strong>shell编程</strong>掌握不够熟练。</p><h3 id=难点1sed的用法>难点1：<code>sed</code>的用法<a hidden class=anchor aria-hidden=true href=#难点1sed的用法>#</a></h3><p>为实现在 hello_os.sh 所处的目录新建一个名为BBB的文件，其内容为 AAA文件的第8、32、128、512、1024行的内容提取，构造<code>sed</code>命令</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sed -n <span style=color:#e6db74>&#39;8p;32p;128p;512p;1024p&#39;</span> <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> &gt; <span style=color:#e6db74>&#34;</span>$2<span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><h3 id=难点2awk行号提取>难点2：<code>awk</code>行号提取<a hidden class=anchor aria-hidden=true href=#难点2awk行号提取>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>grep -n <span style=color:#e6db74>&#34;</span>$2<span style=color:#e6db74>&#34;</span> ./<span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> | awk -F <span style=color:#e6db74>&#39;:&#39;</span> <span style=color:#e6db74>&#39;{print $1}&#39;</span> &gt; ./<span style=color:#e6db74>&#34;</span>$3<span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><h3 id=难点3gcc与make的特殊用法>难点3：GCC与Make的特殊用法<a hidden class=anchor aria-hidden=true href=#难点3gcc与make的特殊用法>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 多目录编译示例</span>
</span></span><span style=display:flex><span>gcc -I ../include -c fibo.c -o fibo.o
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 调用子目录make命令示例</span>
</span></span><span style=display:flex><span>make -C code fibo.o
</span></span></code></pre></div><hr><h1 id=三原创说明>三、原创说明<a hidden class=anchor aria-hidden=true href=#三原创说明>#</a></h1><p>在本次实验中，对工具链的使用参考了官方 manual 和<code>--help</code>参数。</p><p>在 Neovim 和 LazyVim 的安装与配置中，参考了<a href=https://blog.csdn.net/m0_60670525/article/details/136329707>如何在Ubuntu上安装最新版本的Neovim并快速配置_ubuntu安装neovim-CSDN博客</a></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>使用 git log 命令时，在 commit 标识符后的一长串数字和字母组成的字符串&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://oNya685.github.io/>oNya's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>